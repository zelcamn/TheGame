# Начало
Это дизайн документ прототипа игры, которую команда "Название Команды" делает на курсе ОПД-1
# Жанр
Жанр игры: фентези RPG с пошаговой боевой системой и головоломками.\
игры-референсы: The Legend of Zelda: A Link to the Past, Undertale.
# Синопсис
Главный герой просыпается посреди острова. Он отыскивает старый храм с алтарём. У алтаря есть три впадины под особые камни - гемы. 
Задача игрока найти их, чтобы активировать алтарь в храме, который возможно телепортирует его оттуда. Для этого ему придётся исследовать остров.
# Управление
Передвижение - WASD\
Взаимодействие - E\
Атака - Левая кнопка мыши\
Открыть инвентарь - I\
Выбросить предмет - R\
Выбрать предмет - двойное нажатие левой кнопки мыши
# Игровые определения
Биом - территория с уникальными игровыми правилами.\
Хаб - центральная локация, где находится храм и дом протагониста. Оттуда можно попасть в один из биомов.\
Гем - волшебный камень, который необходим для активации портала в храме.\
Подземелье - лабиринтообразное подземелье, содержащее врагов.\
Система - набор глобальных правил игры, работающее всегда.\
Механика - набор правил в игре, работающее ТОЛЬКО при определённых условиях.\
NPC - неигровой персонаж.\
Враг - NPC, атаковав которого персонаж вступает в бой.\
Проджектайл - точка, линия или любой другой геометрический объект, который при встрече с другим объектом вызывает определённое событие.\
Энтити - игровая сущность.\
HP - hit points, величина которая показывает то сколько урона может выдержать персонаж или NPC перед смертью.\
ПУ - порог урона.\
СУ - сопротивление урону.
# Стиль игры
Действие игры происходит на острове с хабом посередине. Остров поделён на 3 биома, в каждом из которых находится гем.

В процессе прохождения игроку встречаются различные Враги и головоломки, которые ему необходимо преодолеть для продвижения по сюжету.
Для победы над врагом игроку необходимо выиграть в схватке напоминающую бой из Undertale.

Исследуя мир, игрок будет натыкаться на сундуки, которые содержат различные предметы: броня, оружие, зелья восстановления здоровья и т.д.\
Каждый Гем находится в подземелье, которое находится в конце одного из биомов.
# Системы и механики
## Системы
### Контроллер персонажа
Персонаж может двигаться в 8 направлениях. В четырех основных (вверх, вниз, влево, вправо) и диагональных, которые являются совмещением основных.

Для этого игрок использует клавиши "Передвижение". Игра задаёт вектор в соответствии с нажатыми клавишами. Если в направлении вектора перед персонажем отсутствует препятствие, игра передвигает персонажа на величину "Скорость персонажа".

![image](res/1583253dcd802_8907.jpg)

Контроллер персонажа может временно отключаться когда он:
* вступает в бой;
* открывает сундук;
* открывает инвентарь.
### Система здоровья
#### Враги
Каждый враг имеет фикисрованное количество HP. Если HP врага упадёт до значения меньше 0, он будет удалён из игрового мира. Враги теряют HP в битвах с персонажем.
#### Персонаж
Персонаж имеет фиксированное количество HP записанное в "HP персонажа". Игрок может регенирировать HP персонажа расходными предметами. Персонаж получает урон в сражениях с Врагами. Если HP персонажа будет меньше или равно 0, то игра закончится, а игрока перенесёт в главное меню.
### Боевая система
Персонаж может вступать в бой с врагом. Для этого он должен нажать "Атака" находясь рядом.

Бой - это набор поочередных ходов между игроком и врагом. По умолчанию первым ходит игрок.
#### Ход врага
Во время своего хода враг может атаковать игрока или использовать особые навыки. Паттерн его поведения определяется скриптом-атрибутом.\
Если враг выбрад атаку, расчёт наносимого игроку урона проходит по следующему алгоритму:
1. Расчитывется величина по формуле в методе атаке врага;
2. Если полученая величина больше ПУ брони игрока, то происходит переход к следующему шагу в алгоритме. В противном случае броня игрока считается не пробитой и ход врага заканчивается;
3. Величина уменьшается на процент взятый из СУ брони игрока;
4. HP игрока уменьшается на полученую величину.
#### Ход игрока
На своём ходе игрок может использовать расходуемый прдемет или атаковать врага.

В первом случае, он переходит а меню выбора предмета. После нажатия на интересующий его предмет он используется, а ход игрока заканчивается.

Во втором случае, игра запускает мини игру. Игрок должен попасть проджектайлом в энтити. Если игрок выиграл, то происходит расчёт наносимого врагу урона по следующему алгоритму:
1. Расчёт величины по взятой из предмета оружия игрока формуле.
2. Если полученая величина больше ПУ брони Врага, то HP врага уменьшается на полученную величину. В противном случае броня Врага считается не пробитой и ход игрока заканчивается.

![image](res/pokemonFS.png)
### Система предметов
В сундуках, расположенных в мире, находятся вещи. Их можно забрать ,нажав клавишу "Взаимодействие" рядом.

Каждый класс вещей содержит уникальные атрибуты и наследует общие для всех вещей атрибуты от наследуемого класса предмета.
#### Оружие
Предметы этого класса экипируются игроком в слот оружия в инвентаре.
Они обладают следующими уникальными атрибутами:
* Формула расчёта урона. К этому атрибуту боевая система обращается каждый раз, когда игрок выбирает атаку врага;
* Урон. Величина, при использовании метода класса для её взятия, метод возвращает случайное значение в определённом диапазоне. Используется для расчёта урона;
#### Броня
Предметы этого класса экипируются игроком в слот брони в инвентаре.
Они обладают следующими атрибутами:
* ПУ. Порог урона. Величина, при пересечении которой игроку будет наносится урон;
* СУ. Сопротивление урону. Величина, которая отображает процентное уменьшение урона если он оказался выше ПУ;
#### Расходуемые предметы
Предметы этого класса хранятся в инвентаре и могут быть использованы игроком для получения различных эффектов во время боя.\
Например:
1. Восстановление здоровья;
2. Увеличение урона от оружия;
3. Увеличение ПУ или СУ.
### Система инвентаря
При нажатиии кнопки "Открыть инвентарь", на экране появляется интерфейс с клетками. Игрок может перетаскивать предметы расположеные в клетках и взаимодействовать с ними.

Выполнив действие "Выбрать предмет" игрок заставляет или поменять снаряжение надетое на персонажа, или использовать предмет на персонаже (пример: выпить зелье восстановления). При этом если активное снаряжение не может быть помещено в инвентарь, оно появляется в мире.

Выполнив действие "Выбросить предмет" игра удалит из инвентаря игрока выделенный предмет и он появится в мире.
![image](res/zeldabotwinventory.jpg)
## Механики
### Получение урона
При активации атрибут персонажа "HP персонажа" уменьшается на величину, которая передаётся Врагом из его атрибутов.
### Нанесение урона
При активации атрибут Врага "HP персонажа" уменьшается на величину, которая передаётся персонажем из атрибутов его текущего оружия.
### Открытие сундука
Выполнив действие "Взаимодействие", нваходясь перед энтити сундука, игра начинает проигрывание анимации открытия сундука. После этого в инвентарь персонажа перемещается предмет, который лежал в сундуке.
# Параметры
HP персонажа - 8\
Скорость персонажа - 1
# Дизайн
БОЛЬШОЙ РАЗДЕЛ!!!
# Прогрессия
# Интерфейс
